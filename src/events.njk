{% extends "./templates/grail.njk" %}
{% import "./data/events.njk" as events_data %}
{% import "./templates/event_card.njk" as event_macros %}

{% set page_title = "Events" %}

{% set sorted_events = events_data.events | multi_attribute_sort(["start_date", "start_time"], true) %}

{% block header %}
    <div class="gap-4 justyfy-center text-center">
      <h2 class="text-3xl font-bold text-indigo-800 md:mt-6 mt-4 md:mb-8 mb-4">
        Upcoming Events
      </h2>
      <div class="grid md:grid-cols-6 md:mb-4">
        <div class="md:col-span-4"></div>
        <div class="md:col-span-3">
          <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Add an Event
          </button>
        </div>
        <div class="md:col-span-1"></div>
      </div>
    </div>
{% endblock %}

{% block content %}
  <div class="flex-auto md:gap-4 gap-1 text-center justify-center md:mt-6 mt-4">
    <div class="grid md:grid-cols-2 md:gap-4 gap-1">
      {% for event in sorted_events %}
        {{ event_macros.event_card(event) }}
      {% endfor %}
    </div>
  </div>
{% endblock %}
